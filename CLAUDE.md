# Journal Agent - 量化日记系统

## 项目愿景
这是一个面向商业化的 AI 增强型个人量化日记系统。
当前阶段：完善核心功能，确保稳定性和用户体验。
最终目标：发展为可商业化的产品/SaaS 服务。

## 技术栈
- 语言：Python 3.x
- Web 框架：Streamlit
- 数据处理：Pandas
- 数据存储：CSV（原始数据）+ Markdown（成品输出）
- 启动方式：`streamlit run app.py`

## 项目结构
```
journal_agnet/
├── app.py                    # Streamlit 入口
├── core/                     # 所有业务模块
│   ├── __init__.py
│   ├── config.py             # 路径配置，基础目录定义
│   ├── data_manager.py       # 核心数据处理，CSV 读写和 Markdown 生成
│   ├── texts.py              # UI 文案、评分定义、坏习惯关键词库
│   ├── template.py           # 日程模板，48 个时间段的默认安排
│   └── md_template.py        # Markdown 日记模板生成器
├── assets/
│   └── styles.css            # Streamlit 自定义样式
├── docs/                     # 项目文档
├── tests/                    # 测试目录
├── CLAUDE.md
├── .gitignore
└── 启动日记.bat
```

## 数据架构
- 三表设计：tasks_log（任务）、time_log（时间切片）、daily_summary（每日概览）
- 所有表以 Date (YYYY-MM-DD) 为主键关联
- 存储路径基于 `config.py` 中的 BASE_DIR，按年度分表、按月份归档

## 会话风格

### 角色定位：导师式协作
- 解释每个技术决策背后的**原因和权衡**，不只是给代码
- 遇到新技术概念时**主动教学**，帮助提升编程能力
- 从**产品和架构角度**分析问题，培养系统思维
- 主动分享**行业最佳实践**和常见陷阱

### 沟通规则
- 始终使用中文回答
- 回答时要有自己的独立思考，不只是执行指令
- 小改动直接执行，大改动或涉及架构的先讨论再动手
- 提出建议时说明利弊，但尊重用户最终决策

## 代码规范
- 变量名、函数名使用英文（snake_case）
- 注释、文档、commit message 使用中文
- 新增核心功能必须附带单元测试
- 遵循现有代码风格，保持一致性
- 不做未被要求的重构或优化

## 开发原则
- **本地优先**：所有数据存储在本地，隐私安全第一
- **读写分离**：CSV 存原始数据，Markdown 为最终展示层
- **以日期为轴**：所有数据操作围绕日期展开
- **Upsert 模式**：更新时覆盖同日期数据，不重复追加
- **商业化意识**：代码质量、可维护性、可扩展性要为未来做准备

## 当前阶段重点
- 完善现有核心功能的稳定性
- 修复已知 bug，优化用户体验
- 不急于加新功能，先把基础打扎实
